<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thanksgiving Grocery Checklist</title>
  <style>
    * {
      box-sizing: border-box;
    }

    :root {
      --ink: #2f241f;
      --soft-cream: #fff7ed;
      --burnt-orange: #d06a29;
      --amber: #f3a712;
      --cranberry: #c23d2e;
      --golden: #f1d4a1;
      --card: #fff9f3;
      --accent-blue: #1d6ae5;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", Tahoma, sans-serif;
      background: radial-gradient(circle at 10% 20%, rgba(240, 170, 88, 0.16), transparent 25%),
        radial-gradient(circle at 90% 10%, rgba(175, 96, 46, 0.16), transparent 28%),
        linear-gradient(180deg, #fff3e1 0%, #fdf8ef 55%, #fff7ed 100%);
      color: var(--ink);
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    main {
      width: 100%;
      max-width: 820px;
      padding: 52px 24px 96px;
    }

    h1 {
      text-align: center;
      margin: 0 0 16px;
      font-size: 2.15rem;
      letter-spacing: 0.04em;
      color: var(--burnt-orange);
      text-shadow: 0 6px 14px rgba(208, 106, 41, 0.12);
    }

    .intro {
      text-align: center;
      background: rgba(241, 212, 161, 0.25);
      border: 1px solid rgba(240, 170, 88, 0.25);
      padding: 16px 18px;
      border-radius: 14px;
      margin-bottom: 28px;
      box-shadow: 0 10px 22px rgba(47, 36, 31, 0.05);
    }

    .legend {
      display: inline-flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .legend span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 0.9rem;
      background: #fff;
      border: 1px solid rgba(0, 0, 0, 0.06);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04);
    }

    .legend .check::before,
    .legend .x::before {
      content: "";
      display: inline-block;
      width: 14px;
      height: 14px;
      border-radius: 3px;
    }

    .legend .check::before {
      background: var(--accent-blue);
      box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.6);
    }

    .legend .x::before {
      background: var(--cranberry);
      box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.6);
    }

    section {
      background: var(--card);
      border: 1px solid rgba(240, 170, 88, 0.25);
      border-radius: 14px;
      padding: 20px 18px;
      margin-bottom: 20px;
      box-shadow: 0 14px 26px rgba(47, 36, 31, 0.07);
      backdrop-filter: blur(2px);
    }

    h2 {
      margin: 0 0 14px;
      font-size: 1.1rem;
      letter-spacing: 0.01em;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #6b3617;
    }

    h2::before {
      content: "üçÇ";
      font-size: 1.1rem;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 10px;
    }

    label {
      display: grid;
      grid-template-columns: auto auto 1fr;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 10px;
      transition: background 0.18s ease, border-color 0.18s ease, transform 0.12s ease;
      cursor: pointer;
      border: 1px solid rgba(0, 0, 0, 0.06);
      background: #fff;
    }

    label:hover {
      background: #fff7ec;
      transform: translateY(-1px);
    }

    .item-name {
      line-height: 1.4;
      color: var(--ink);
    }

    .is-checked {
      background: rgba(29, 106, 229, 0.08);
      border-color: rgba(29, 106, 229, 0.35);
      box-shadow: 0 10px 20px rgba(29, 106, 229, 0.1);
    }

    .is-checked .item-name {
      color: #1d3d73;
      font-weight: 600;
    }

    .is-xed {
      background: rgba(194, 61, 46, 0.08);
      border-color: rgba(194, 61, 46, 0.4);
      box-shadow: 0 10px 20px rgba(194, 61, 46, 0.12);
    }

    .is-xed .item-name {
      color: #8c1f16;
      font-weight: 600;
    }

    input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .grocery-check {
      accent-color: var(--accent-blue);
    }

    .grocery-x {
      accent-color: var(--cranberry);
    }

    .leaf-frame {
      position: relative;
      padding: 0 16px;
      isolation: isolate;
    }

    .leaf-frame::before,
    .leaf-frame::after {
      content: "";
      position: absolute;
      top: 36px;
      width: 200px;
      height: 520px;
      background-repeat: no-repeat;
      background-size: contain;
      opacity: 0.92;
      filter: drop-shadow(0 10px 24px rgba(0, 0, 0, 0.08));
      pointer-events: none;
      z-index: -1;
    }

    .leaf-frame::before {
      left: -150px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 520'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%23d06a29'/%3E%3Cstop offset='1' stop-color='%23f3a712'/%3E%3C/linearGradient%3E%3ClinearGradient id='g2' x1='1' y1='0' x2='0' y2='1'%3E%3Cstop offset='0' stop-color='%23c23d2e'/%3E%3Cstop offset='1' stop-color='%23f1d4a1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath fill='url(%23g1)' d='M38 62c44-46 76-40 94-16s12 70-24 108-94 60-101 22 15-68 31-86z'/%3E%3Cpath fill='url(%23g2)' d='M26 192c30-44 76-57 103-25s9 82-38 120-96 42-80-8 18-68 15-87z' opacity='.9'/%3E%3Cpath fill='%23b24b1c' d='M50 88c44 84 52 172 24 264' stroke='%239c3d10' stroke-width='6' stroke-linecap='round' fill='none'/%3E%3Cpath fill='%23b24b1c' d='M88 150c-16 20-32 32-48 36' stroke='%239c3d10' stroke-width='4' stroke-linecap='round'/%3E%3Cpath fill='%23b24b1c' d='M92 238c-18 22-34 36-48 42' stroke='%239c3d10' stroke-width='4' stroke-linecap='round'/%3E%3C/svg%3E");
    }

    .leaf-frame::after {
      right: -150px;
      transform: scaleX(-1);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 520'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%23d06a29'/%3E%3Cstop offset='1' stop-color='%23f3a712'/%3E%3C/linearGradient%3E%3ClinearGradient id='g2' x1='1' y1='0' x2='0' y2='1'%3E%3Cstop offset='0' stop-color='%23c23d2e'/%3E%3Cstop offset='1' stop-color='%23f1d4a1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath fill='url(%23g1)' d='M38 62c44-46 76-40 94-16s12 70-24 108-94 60-101 22 15-68 31-86z'/%3E%3Cpath fill='url(%23g2)' d='M26 192c30-44 76-57 103-25s9 82-38 120-96 42-80-8 18-68 15-87z' opacity='.9'/%3E%3Cpath fill='%23b24b1c' d='M50 88c44 84 52 172 24 264' stroke='%239c3d10' stroke-width='6' stroke-linecap='round' fill='none'/%3E%3Cpath fill='%23b24b1c' d='M88 150c-16 20-32 32-48 36' stroke='%239c3d10' stroke-width='4' stroke-linecap='round'/%3E%3Cpath fill='%23b24b1c' d='M92 238c-18 22-34 36-48 42' stroke='%239c3d10' stroke-width='4' stroke-linecap='round'/%3E%3C/svg%3E");
    }
  </style>
</head>
<body>
  <main>
    <h1>Thanksgiving Grocery Checklist</h1>

    <div class="leaf-frame">
      <div class="intro">
        <div class="legend">
          <span class="check">Picked up</span>
          <span class="x">Not needed</span>
        </div>
      </div>

      <section>
      <h2>Bakery</h2>
      <ul>
        <li><label for="bakery-sourdough"><input type="checkbox" id="bakery-sourdough" class="grocery-item" />Sourdough bread (large loaf)</label></li>
        <li><label for="bakery-babka"><input type="checkbox" id="bakery-babka" class="grocery-item" />Chocolate babka</label></li>
        <li><label for="bakery-baguette"><input type="checkbox" id="bakery-baguette" class="grocery-item" />French baguette</label></li>
        <li><label for="bakery-demi-baguette"><input type="checkbox" id="bakery-demi-baguette" class="grocery-item" />Demi-baguettes (small 2-packs)</label></li>
        <li><label for="bakery-potato-bread"><input type="checkbox" id="bakery-potato-bread" class="grocery-item" />Potato sandwich bread</label></li>
      </ul>
      </section>

      <section>
      <h2>Cheese &amp; Dairy</h2>
      <ul>
        <li><label for="dairy-aged-cheddar"><input type="checkbox" id="dairy-aged-cheddar" class="grocery-item" />Aged sharp cheddar (block or wedge)</label></li>
        <li><label for="dairy-manchego"><input type="checkbox" id="dairy-manchego" class="grocery-item" />Manchego wedge</label></li>
        <li><label for="dairy-camembert"><input type="checkbox" id="dairy-camembert" class="grocery-item" />Camembert wedge</label></li>
        <li><label for="dairy-goat-cheese"><input type="checkbox" id="dairy-goat-cheese" class="grocery-item" />Fresh goat cheese log</label></li>
        <li><label for="dairy-shredded-cheddar"><input type="checkbox" id="dairy-shredded-cheddar" class="grocery-item" />Shredded sharp cheddar</label></li>
        <li><label for="dairy-block-cheddar"><input type="checkbox" id="dairy-block-cheddar" class="grocery-item" />Block of sharp cheddar</label></li>
        <li><label for="dairy-tzatziki"><input type="checkbox" id="dairy-tzatziki" class="grocery-item" />Tzatziki dip</label></li>
        <li><label for="dairy-greek-yogurt"><input type="checkbox" id="dairy-greek-yogurt" class="grocery-item" />Greek yogurt (plain, 32 oz)</label></li>
        <li><label for="dairy-heavy-cream"><input type="checkbox" id="dairy-heavy-cream" class="grocery-item" />Heavy cream (1 pint)</label></li>
        <li><label for="dairy-eggs"><input type="checkbox" id="dairy-eggs" class="grocery-item" />Large brown eggs (2 dozen)</label></li>
        <li><label for="dairy-milk"><input type="checkbox" id="dairy-milk" class="grocery-item" />Whole milk (¬Ω gallon)</label></li>
        <li><label for="dairy-salted-butter"><input type="checkbox" id="dairy-salted-butter" class="grocery-item" />Salted butter</label></li>
        <li><label for="dairy-unsalted-butter"><input type="checkbox" id="dairy-unsalted-butter" class="grocery-item" />Unsalted butter (1 lb blocks)</label></li>
      </ul>
      </section>

      <section>
      <h2>Deli &amp; Olives</h2>
      <ul>
        <li><label for="deli-kalamata"><input type="checkbox" id="deli-kalamata" class="grocery-item" />Kalamata olives (pitted)</label></li>
        <li><label for="deli-castelvetrano"><input type="checkbox" id="deli-castelvetrano" class="grocery-item" />Castelvetrano olives (pitted)</label></li>
        <li><label for="deli-salami-bites"><input type="checkbox" id="deli-salami-bites" class="grocery-item" />Salami bites / Genoa salami snack pack</label></li>
      </ul>
      </section>

      <section>
      <h2>Frozen</h2>
      <ul>
        <li><label for="frozen-pork-buns"><input type="checkbox" id="frozen-pork-buns" class="grocery-item" />Pork buns (frozen)</label></li>
        <li><label for="frozen-scallion-pancake"><input type="checkbox" id="frozen-scallion-pancake" class="grocery-item" />Scallion pancake (frozen)</label></li>
        <li><label for="frozen-margherita-pizza"><input type="checkbox" id="frozen-margherita-pizza" class="grocery-item" />Frozen margherita pizza</label></li>
        <li><label for="frozen-mushroom-pizza"><input type="checkbox" id="frozen-mushroom-pizza" class="grocery-item" />Frozen mushroom pizza</label></li>
        <li><label for="frozen-pigs-blanket"><input type="checkbox" id="frozen-pigs-blanket" class="grocery-item" />Pigs in a blanket (frozen)</label></li>
        <li><label for="frozen-ice-cream"><input type="checkbox" id="frozen-ice-cream" class="grocery-item" />Ice cream</label></li>
      </ul>
      </section>

      <section>
      <h2>Produce</h2>
      <ul>
        <li><label for="produce-bananas"><input type="checkbox" id="produce-bananas" class="grocery-item" />Bananas</label></li>
        <li><label for="produce-lemons"><input type="checkbox" id="produce-lemons" class="grocery-item" />Lemons</label></li>
        <li><label for="produce-oranges"><input type="checkbox" id="produce-oranges" class="grocery-item" />Navel oranges</label></li>
        <li><label for="produce-baby-bella"><input type="checkbox" id="produce-baby-bella" class="grocery-item" />Baby bella mushrooms</label></li>
        <li><label for="produce-mushroom-blend"><input type="checkbox" id="produce-mushroom-blend" class="grocery-item" />Mushroom blend (mixed gourmet mushrooms)</label></li>
        <li><label for="produce-cherry-tomatoes"><input type="checkbox" id="produce-cherry-tomatoes" class="grocery-item" />Mixed cherry tomatoes</label></li>
        <li><label for="produce-wild-wonders"><input type="checkbox" id="produce-wild-wonders" class="grocery-item" />Wild Wonders / multicolor tomatoes</label></li>
        <li><label for="produce-cucumbers"><input type="checkbox" id="produce-cucumbers" class="grocery-item" />Greenhouse cucumbers</label></li>
        <li><label for="produce-green-peppers"><input type="checkbox" id="produce-green-peppers" class="grocery-item" />Green bell peppers</label></li>
        <li><label for="produce-carrots"><input type="checkbox" id="produce-carrots" class="grocery-item" />Carrots</label></li>
        <li><label for="produce-celery"><input type="checkbox" id="produce-celery" class="grocery-item" />Celery</label></li>
        <li><label for="produce-ginger"><input type="checkbox" id="produce-ginger" class="grocery-item" />Ginger root</label></li>
        <li><label for="produce-garlic"><input type="checkbox" id="produce-garlic" class="grocery-item" />Garlic bulbs</label></li>
        <li><label for="produce-shallots"><input type="checkbox" id="produce-shallots" class="grocery-item" />Shallots</label></li>
        <li><label for="produce-yellow-onions"><input type="checkbox" id="produce-yellow-onions" class="grocery-item" />Yellow onions</label></li>
        <li><label for="produce-russet-potatoes"><input type="checkbox" id="produce-russet-potatoes" class="grocery-item" />Russet potatoes (5 lb bag)</label></li>
        <li><label for="produce-shredded-brussels"><input type="checkbox" id="produce-shredded-brussels" class="grocery-item" />Shredded Brussels sprouts</label></li>
        <li><label for="produce-parsley"><input type="checkbox" id="produce-parsley" class="grocery-item" />Parsley</label></li>
        <li><label for="produce-rosemary"><input type="checkbox" id="produce-rosemary" class="grocery-item" />Rosemary</label></li>
        <li><label for="produce-sage"><input type="checkbox" id="produce-sage" class="grocery-item" />Sage</label></li>
        <li><label for="produce-thyme"><input type="checkbox" id="produce-thyme" class="grocery-item" />Thyme</label></li>
        <li><label for="produce-sunflower-bouquet"><input type="checkbox" id="produce-sunflower-bouquet" class="grocery-item" />Sunflower bouquet</label></li>
      </ul>
      </section>

      <section>
      <h2>Meat</h2>
      <ul>
        <li><label for="meat-rack-of-lamb"><input type="checkbox" id="meat-rack-of-lamb" class="grocery-item" />Rack of lamb (frenched)</label></li>
        <li><label for="meat-italian-sausage"><input type="checkbox" id="meat-italian-sausage" class="grocery-item" />Italian sausage meat</label></li>
        <li><label for="meat-pork-tenderloin"><input type="checkbox" id="meat-pork-tenderloin" class="grocery-item" />Pork tenderloin</label></li>
      </ul>
      </section>

      <section>
      <h2>Pantry &amp; Seasonings</h2>
      <ul>
        <li><label for="pantry-sherry-vinegar"><input type="checkbox" id="pantry-sherry-vinegar" class="grocery-item" />Sherry vinegar</label></li>
        <li><label for="pantry-peeled-garlic"><input type="checkbox" id="pantry-peeled-garlic" class="grocery-item" />Peeled garlic container</label></li>
        <li><label for="pantry-molasses"><input type="checkbox" id="pantry-molasses" class="grocery-item" />Molasses</label></li>
        <li><label for="pantry-cornmeal"><input type="checkbox" id="pantry-cornmeal" class="grocery-item" />Yellow cornmeal</label></li>
        <li><label for="pantry-cinnamon-sticks"><input type="checkbox" id="pantry-cinnamon-sticks" class="grocery-item" />Cinnamon sticks</label></li>
        <li><label for="pantry-ground-coriander"><input type="checkbox" id="pantry-ground-coriander" class="grocery-item" />Ground coriander</label></li>
        <li><label for="pantry-white-wine-vinegar"><input type="checkbox" id="pantry-white-wine-vinegar" class="grocery-item" />White wine vinegar</label></li>
        <li><label for="pantry-star-anise"><input type="checkbox" id="pantry-star-anise" class="grocery-item" />Star anise</label></li>
        <li><label for="pantry-whole-cloves"><input type="checkbox" id="pantry-whole-cloves" class="grocery-item" />Whole cloves</label></li>
        <li><label for="pantry-soy-sauce"><input type="checkbox" id="pantry-soy-sauce" class="grocery-item" />Soy sauce</label></li>
        <li><label for="pantry-worcestershire"><input type="checkbox" id="pantry-worcestershire" class="grocery-item" />Worcestershire sauce</label></li>
        <li><label for="pantry-raw-hazelnuts"><input type="checkbox" id="pantry-raw-hazelnuts" class="grocery-item" />Raw hazelnuts</label></li>
      </ul>
      </section>

      <section>
      <h2>Alcohol</h2>
      <ul>
        <li><label for="alcohol-rye-whiskey"><input type="checkbox" id="alcohol-rye-whiskey" class="grocery-item" />Rye whiskey</label></li>
        <li><label for="alcohol-spiced-rum"><input type="checkbox" id="alcohol-spiced-rum" class="grocery-item" />Spiced rum</label></li>
      </ul>
      </section>
    </div>
  </main>

  <script>
    (function () {
      const storageKey = "groceryChecklistStateV2";

      function loadState() {
        try {
          return JSON.parse(localStorage.getItem(storageKey)) || {};
        } catch (err) {
          console.warn("Could not parse saved checklist state", err);
          return {};
        }
      }

      function saveState(state) {
        localStorage.setItem(storageKey, JSON.stringify(state));
      }

      function setVisualState(label, status) {
        label.classList.remove("is-checked", "is-xed");

        if (status === "checked") {
          label.classList.add("is-checked");
        } else if (status === "xed") {
          label.classList.add("is-xed");
        }
      }

      function initChecklist() {
        const primaryBoxes = Array.from(document.querySelectorAll(".grocery-item"));
        const savedState = loadState();

        primaryBoxes.forEach((box) => {
          const label = box.closest("label");
          if (!label) return;

          const itemText = label.textContent.trim();
          const itemId = box.id;
          const xBox = document.createElement("input");

          xBox.type = "checkbox";
          xBox.id = `${itemId}-x`;
          xBox.className = "grocery-x";
          xBox.setAttribute("aria-label", `Mark ${itemText} as not needed`);

          box.classList.add("grocery-check");
          box.setAttribute("aria-label", `Mark ${itemText} as picked up`);

          label.dataset.itemId = itemId;
          label.classList.add("item-card");
          label.removeAttribute("for");
          label.innerHTML = "";

          label.append(box, xBox);

          const textSpan = document.createElement("span");
          textSpan.className = "item-name";
          textSpan.textContent = itemText;
          label.append(textSpan);

          const savedStatus = savedState[itemId] || "none";

          if (savedStatus === "checked") {
            box.checked = true;
          } else if (savedStatus === "xed") {
            xBox.checked = true;
          }

          setVisualState(label, savedStatus);
        });

        const toggles = Array.from(document.querySelectorAll(".grocery-check, .grocery-x"));

        function handleChange(event) {
          const control = event.target;
          const label = control.closest("label");
          if (!label) return;

          const checkBox = label.querySelector(".grocery-check");
          const xBox = label.querySelector(".grocery-x");
          let status = "none";

          if (control.classList.contains("grocery-check")) {
            if (checkBox.checked) {
              xBox.checked = false;
              status = "checked";
            }
          } else if (control.classList.contains("grocery-x")) {
            if (xBox.checked) {
              checkBox.checked = false;
              status = "xed";
            }
          }

          if (!checkBox.checked && !xBox.checked) {
            status = "none";
          }

          const state = loadState();
          state[label.dataset.itemId] = status;
          saveState(state);
          setVisualState(label, status);
        }

        toggles.forEach((toggle) => {
          toggle.addEventListener("change", handleChange);
        });
      }

      document.addEventListener("DOMContentLoaded", initChecklist);
    })();
  </script>
</body>
</html>
