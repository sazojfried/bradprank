<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Meme Outbreak: Yale Edition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #050816;
      --card: #0b1020;
      --accent: #48bfe3;
      --accent-soft: #4cc9f0;
      --danger: #f94144;
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --border-subtle: #1e293b;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 50%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .game-root {
      max-width: 1200px;
      width: 100%;
      display: grid;
      grid-template-columns: 2fr 1.2fr;
      gap: 16px;
    }
(max-width: 900px) {
.game-root {
grid-template-columns: 1fr;
}
}
    .panel {
  background: var(--card);
  border-radius: 16px;
  padding: 16px 18px;
  border: 1px solid var(--border-subtle);
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.65);
}

.panel h2 {
  margin: 0 0 4px 0;
  font-size: 1.15rem;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  color: var(--accent-soft);
}

.panel h3 {
  margin: 0 0 8px 0;
  font-size: 1rem;
  color: var(--accent-soft);
}

.subtitle {
  margin: 0 0 12px 0;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.map-wrapper {
  margin: 8px 0 14px 0;
  border-radius: 14px;
  border: 1px solid var(--border-subtle);
  background: radial-gradient(circle at top, #111827 0, #020617 60%);
  padding: 6px;
  position: relative;
  overflow: hidden;
}

#mapSvg {
  width: 100%;
  height: auto;
  display: block;
}

.map-college {
  stroke: #0f172a;
  stroke-width: 1.5;
  fill: #1f2937;
  transition: fill 0.15s ease-out, transform 0.1s ease-out;
  cursor: pointer;
}

.map-college:hover {
  transform: translateY(-1px);
  stroke-width: 2;
}

.map-label {
  font-size: 8px;
  fill: var(--text-muted);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
}

/* student dots overlay */
#studentsCanvas {
  position: absolute;
  left: 6px;
  top: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  pointer-events: none;
}

.colleges-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 10px;
}

.college-card {
  background: rgba(15, 23, 42, 0.9);
  border-radius: 12px;
  padding: 10px 11px;
  border: 1px solid var(--border-subtle);
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 0.85rem;
}

.college-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 6px;
}

.college-name {
  font-weight: 600;
}

.college-percent {
  font-variant-numeric: tabular-nums;
  font-size: 0.85rem;
}

.bar-wrap {
  width: 100%;
  background: #020617;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid #111827;
  height: 8px;
}

.bar-fill {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--accent-soft), #a855f7);
  transition: width 0.2s ease-out;
}

.college-meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--text-muted);
}

.stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
  gap: 10px;
}

.stat-label {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.btn-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 8px;
}

button {
  border-radius: 999px;
  border: none;
  padding: 6px 10px;
  font-size: 0.8rem;
  cursor: pointer;
  background: var(--accent);
  color: #020617;
  font-weight: 600;
  letter-spacing: 0.02em;
  transition: transform 0.08s ease-out, box-shadow 0.08s ease-out,
    background 0.1s ease-out;
  box-shadow: 0 6px 16px rgba(56, 189, 248, 0.45);
  white-space: nowrap;
}

button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 22px rgba(56, 189, 248, 0.6);
}

button:disabled {
  opacity: 0.35;
  cursor: default;
  box-shadow: none;
  transform: none;
}

.btn-secondary {
  background: transparent;
  border: 1px solid var(--border-subtle);
  color: var(--text-muted);
  box-shadow: none;
}

.btn-danger {
  background: var(--danger);
  color: #f8fafc;
  box-shadow: 0 6px 16px rgba(248, 113, 113, 0.5);
}

.traits-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 4px;
  margin-bottom: 8px;
}

.trait-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.trait-name {
  font-size: 0.82rem;
}

.trait-bar-wrap {
  flex: 1;
  height: 7px;
  border-radius: 999px;
  background: #020617;
  border: 1px solid #0f172a;
  overflow: hidden;
}

.trait-bar {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--accent-soft), #22c55e);
  transition: width 0.15s ease-out;
}

.meta-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  font-size: 0.8rem;
  margin-top: 6px;
  margin-bottom: 4px;
  color: var(--text-muted);
  flex-wrap: wrap;
}

.meta-highlight {
  color: var(--accent-soft);
  font-weight: 500;
}

.log-box {
  margin-top: 8px;
  padding: 8px;
  border-radius: 10px;
  background: rgba(15, 23, 42, 0.85);
  border: 1px solid var(--border-subtle);
  height: 170px;
  overflow-y: auto;
  font-size: 0.78rem;
  line-height: 1.3;
}

.log-entry {
  margin-bottom: 4px;
}

.log-entry span {
  color: var(--text-muted);
}

.footer-note {
  margin-top: 8px;
  font-size: 0.7rem;
  color: var(--text-muted);
}

.tolerance-wrap {
  margin-top: 6px;
  margin-bottom: 4px;
}

.tolerance-label {
  font-size: 0.8rem;
  color: var(--text-muted);
  margin-bottom: 2px;
}

.tolerance-bar-outer {
  width: 100%;
  height: 8px;
  border-radius: 999px;
  background: #020617;
  border: 1px solid #111827;
  overflow: hidden;
}

.tolerance-bar-inner {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, #22c55e, #f97316, #f97373);
  transition: width 0.2s ease-out;
}
</style> </head> <body> <div class="game-root"> <div class="panel"> <h2>Meme Outbreak: Yale Edition</h2> <p class="subtitle"> A tiny, slightly cursed simulation of how a meme spreads across Yale's 14 residential colleges. Each turn is one hour in a 24-hour day; you choose one <strong>upgrade</strong> to tweak your meme's traits, then watch it propagate. </p>
  <div class="meta-row">
    <div>
      Day <span class="meta-highlight" id="dayNumber">1</span>,
      <span class="meta-highlight" id="timeOfDay">09:00</span>
    </div>
    <div>
      Overall Infection:
      <span class="meta-highlight" id="overallInfection">0%</span>
    </div>
    <div>
      Upgrade Points:
      <span class="meta-highlight" id="upgradePoints">1</span>
    </div>
  </div>

  <div class="tolerance-wrap">
    <div class="tolerance-label">
      Admin Tolerance:
      <span class="meta-highlight" id="toleranceText">100%</span>
    </div>
    <div class="tolerance-bar-outer">
      <div
        class="tolerance-bar-inner"
        id="toleranceBar"
        style="width: 100%"
      ></div>
    </div>
  </div>

  <!-- SVG MAP -->
  <div class="map-wrapper">
    <svg id="mapSvg" viewBox="0 0 260 320">
      <rect x="0" y="0" width="260" height="320" fill="#020617" />

      <!-- 14 building shapes -->
      <rect class="map-college" id="college-0" x="20" y="230" width="40" height="40" rx="4" />
      <rect class="map-college" id="college-1" x="80" y="230" width="40" height="40" rx="4" />
      <rect class="map-college" id="college-2" x="140" y="230" width="40" height="40" rx="4" />
      <rect class="map-college" id="college-3" x="200" y="230" width="40" height="40" rx="4" />

      <rect class="map-college" id="college-4" x="20" y="170" width="40" height="36" rx="4" />
      <rect class="map-college" id="college-5" x="80" y="170" width="32" height="50" rx="4" />
      <rect class="map-college" id="college-6" x="140" y="170" width="48" height="34" rx="4" />
      <rect class="map-college" id="college-7" x="208" y="170" width="28" height="50" rx="4" />

      <rect class="map-college" id="college-8" x="20" y="110" width="50" height="32" rx="4" />
      <rect class="map-college" id="college-9" x="100" y="110" width="40" height="32" rx="4" />
      <rect class="map-college" id="college-10" x="160" y="110" width="40" height="32" rx="4" />
      <rect class="map-college" id="college-11" x="220" y="110" width="26" height="36" rx="4" />

      <rect class="map-college" id="college-12" x="60" y="40" width="60" height="38" rx="4" />
      <rect class="map-college" id="college-13" x="150" y="40" width="60" height="38" rx="4" />

      <text x="10" y="20" class="map-label">Grove-ish</text>
      <text x="10" y="305" class="map-label">Near Green-ish</text>
    </svg>
    <canvas id="studentsCanvas"></canvas>
  </div>

  <div class="colleges-grid" id="collegesGrid"></div>
</div>

<div class="panel">
  <h3>Meme Traits & Upgrades</h3>
  <p class="subtitle">
    In Dawkins-speak, you're optimizing the meme's "fitness." In practice,
    you're making it more cursed. Admin Tolerance drops as infection rises
    and the meme gets edgier.
  </p>

  <div class="traits-list" id="traitsList"></div>

  <div class="btn-row">
    <button onclick="buyUpgrade('virality')" id="btnVirality">
      Upgrade Virality
    </button>
    <button onclick="buyUpgrade('relatability')" id="btnRelatability">
      Upgrade Relatability
    </button>
    <button onclick="buyUpgrade('edginess')" id="btnEdginess">
      Upgrade Edginess
    </button>
  </div>

  <div class="btn-row" style="margin-top: 10px">
    <button class="btn-danger" onclick="nextTurn()" id="btnNextTurn">
      Next Hour
    </button>
    <button class="btn-secondary" onclick="resetGame()">Reset</button>
  </div>

  <div class="log-box" id="logBox"></div>

  <div class="footer-note">
    Win by infecting at least <strong>80%</strong> of the overall
    population before Admin Tolerance hits zero or campus moves on to a new
    drama (after Day 7). Student dots approximate people walking between
    colleges—traffic peaks during the day.
  </div>
</div>
</div> <script> const COLLEGE_NAMES = [ "Benjamin Franklin", "Berkeley", "Branford", "Davenport", "Ezra Stiles", "Grace Hopper", "Jonathan Edwards", "Morse", "Pauli Murray", "Pierson", "Saybrook", "Silliman", "Timothy Dwight", "Trumbull", ]; const gameState = { day: 1, hour: 9, // 24h clock maxDays: 7, turn: 1, upgradePoints: 1, traits: { virality: 2, relatability: 2, edginess: 2, }, colleges: [], log: [], gameOver: false, adminTolerance: 100, // 0–100 }; // student animation state const studentsState = { dots: [], lastSpawn: 0, }; function formatTime(h) { const hh = h.toString().padStart(2, "0"); return `${hh}:00`; } function initGame() { gameState.day = 1; gameState.hour = 9; gameState.turn = 1; gameState.upgradePoints = 1; gameState.traits = { virality: 2, relatability: 2, edginess: 2 }; gameState.gameOver = false; gameState.adminTolerance = 100; gameState.colleges = COLLEGE_NAMES.map((name, index) => { const baseInfection = index === 0 ? 20 : 0; const moderation = 0.2 + Math.random() * 0.4; return { name, infection: baseInfection, moderation, }; }); gameState.log = []; addLog( "Day 1, 09:00 — New meme detected in Benjamin Franklin. It seems harmless. For now." ); attachMapClickHandlers(); initStudents(); renderUI(); } function addLog(message) { const entry = message.includes("Day") ? message : `Day ${gameState.day}, ${formatTime(gameState.hour)} — ${message}`; gameState.log.unshift(entry); if (gameState.log.length > 80) { gameState.log.pop(); } renderLog(); } function renderLog() { const logBox = document.getElementById("logBox"); logBox.innerHTML = ""; gameState.log.forEach((line) => { const div = document.createElement("div"); div.className = "log-entry"; div.textContent = line; logBox.appendChild(div); }); } function renderTraits() { const traitsList = document.getElementById("traitsList"); traitsList.innerHTML = ""; const traitMeta = { virality: "How quickly the meme jumps into new colleges.", relatability: "How much already-infected students keep sharing it.", edginess: "Helps bypass social norms & moderation, but draws admin scrutiny.", }; Object.entries(gameState.traits).forEach(([key, value]) => { const row = document.createElement("div"); row.className = "trait-row"; const left = document.createElement("div"); const nameSpan = document.createElement("div"); nameSpan.className = "trait-name"; nameSpan.textContent = key.charAt(0).toUpperCase() + key.slice(1) + ` (${value})`; const label = document.createElement("div"); label.className = "stat-label"; label.textContent = traitMeta[key]; left.appendChild(nameSpan); left.appendChild(label); const center = document.createElement("div"); center.className = "trait-bar-wrap"; const bar = document.createElement("div"); bar.className = "trait-bar"; const width = Math.min(100, (value / 10) * 100); bar.style.width = width + "%"; center.appendChild(bar); row.appendChild(left); row.appendChild(center); traitsList.appendChild(row); }); document.getElementById("upgradePoints").textContent = gameState.upgradePoints; } function renderMap() { for (let i = 0; i < gameState.colleges.length; i++) { const c = gameState.colleges[i]; const el = document.getElementById(`college-${i}`); if (!el) continue; const t = c.infection / 100; const hue = 200 - 60 * t; const light = 20 + 40 * (1 - t); el.style.fill = `hsl(${hue}, 80%, ${light}%)`; } } function renderColleges() { const grid = document.getElementById("collegesGrid"); grid.innerHTML = ""; gameState.colleges.forEach((c) => { const card = document.createElement("div"); card.className = "college-card"; const header = document.createElement("div"); header.className = "college-header"; const name = document.createElement("div"); name.className = "college-name"; name.textContent = c.name; const percent = document.createElement("div"); percent.className = "college-percent"; const p = Math.round(c.infection); percent.textContent = p + "%"; header.appendChild(name); header.appendChild(percent); const barWrap = document.createElement("div"); barWrap.className = "bar-wrap"; const barFill = document.createElement("div"); barFill.className = "bar-fill"; barFill.style.width = p + "%"; barWrap.appendChild(barFill); const meta = document.createElement("div"); meta.className = "college-meta"; const mod = document.createElement("div"); mod.textContent = "Resistance: " + c.moderation.toFixed(2); const tag = document.createElement("div"); tag.textContent = p >= 80 ? "Fully memed" : p >= 20 ? "Contaminated" : "Mostly safe"; meta.appendChild(mod); meta.appendChild(tag); card.appendChild(header); card.appendChild(barWrap); card.appendChild(meta); grid.appendChild(card); }); renderMap(); } function renderMeta() { document.getElementById("dayNumber").textContent = gameState.day; document.getElementById("timeOfDay").textContent = formatTime( gameState.hour ); const avg = gameState.colleges.reduce((sum, c) => sum + c.infection, 0) / gameState.colleges.length; document.getElementById("overallInfection").textContent = Math.round(avg) + "%"; const tol = Math.max(0, Math.round(gameState.adminTolerance)); document.getElementById("toleranceText").textContent = tol + "%"; document.getElementById("toleranceBar").style.width = tol + "%"; const disabled = gameState.gameOver; ["btnVirality", "btnRelatability", "btnEdginess", "btnNextTurn"].forEach( (id) => { const btn = document.getElementById(id); if (btn) btn.disabled = disabled; } ); } function renderUI() { renderTraits(); renderColleges(); renderMeta(); renderLog(); } function buyUpgrade(traitKey) { if (gameState.gameOver) return; if (gameState.upgradePoints <= 0) return; if (!gameState.traits.hasOwnProperty(traitKey)) return; if (gameState.traits[traitKey] >= 10) { addLog(`Your ${traitKey} is already maxed out.`); return; } gameState.traits[traitKey] += 1; gameState.upgradePoints -= 1; let flavor; if (traitKey === "virality") { flavor = "You tweaked the format. It now fits perfectly in an IG story."; } else if (traitKey === "relatability") { flavor = "You added a painfully specific caption. Everyone feels personally attacked."; } else if (traitKey === "edginess") { flavor = "You made it just a bit more cursed. Campus admins are starting to notice."; } addLog(`Upgrade purchased: ${traitKey.toUpperCase()}. ${flavor}`); renderUI(); } function nextTurn() { if (gameState.gameOver) return; // Time advance gameState.hour += 1; if (gameState.hour >= 24) { gameState.hour = 0; gameState.day += 1; } gameState.turn += 1; if (gameState.upgradePoints < 3) { gameState.upgradePoints += 1; } const { virality, relatability, edginess } = gameState.traits; let newlyHigh = []; let moderationEvents = []; gameState.colleges.forEach((c) => { const baseSpread = virality * 0.8; const existingBoost = (relatability * c.infection) / 100; const resistance = c.moderation * 5; const edgyBonus = edginess * 0.4; const chaos = (Math.random() - 0.5) * 4; let delta = baseSpread + existingBoost + edgyBonus - resistance + chaos; if (c.infection < 5) { delta *= 0.6; } if (delta < -5) delta = -5; if (delta > 15) delta = 15; const oldInfection = c.infection; c.infection = Math.max(0, Math.min(100, c.infection + delta)); if (oldInfection < 50 && c.infection >= 50) { newlyHigh.push(c.name); } const moderationChance = (edginess * 0.04 + c.infection / 400) * c.moderation; if (Math.random() < moderationChance) { const reduction = 5 + Math.random() * 10; c.infection = Math.max(0, c.infection - reduction); moderationEvents.push(c.name); } }); const avg = gameState.colleges.reduce((sum, c) => sum + c.infection, 0) / gameState.colleges.length; // Admin tolerance decay: increases with infection & edginess const tolDecayBase = 0.3 + (avg / 100) * 1.2 + edginess * 0.2; // Slightly more decay in daytime const isDay = gameState.hour >= 8 && gameState.hour <= 22; const tolDecay = tolDecayBase * (isDay ? 1.1 : 0.8); gameState.adminTolerance -= tolDecay; if (newlyHigh.length > 0) { addLog( `${newlyHigh.join( ", " )} crossed 50% infection. People are starting to reference the meme offline.` ); } if (moderationEvents.length > 0) { addLog( `Admins/Group chats in ${moderationEvents.join( ", " )} tried to clamp down. Some posts disappeared, but the meme survived.` ); } if (avg >= 80) { addLog( `Campus is saturated (avg ${Math.round( avg )}%). In Gladwell terms, you've achieved a very cursed weak-tie revolution.` ); gameState.gameOver = true; } else if (gameState.adminTolerance <= 0) { addLog( "Admin Tolerance hit 0%. A campus-wide email goes out. Everyone has to click through a 'Community Standards' training. The meme is dead." ); gameState.gameOver = true; } else if (gameState.day > gameState.maxDays) { addLog( `It's Day ${gameState.day}. Campus attention has moved on to a new scandal. The meme topped out at ${Math.round( avg )}% average infection.` ); gameState.gameOver = true; } else { addLog( `The meme continues to circulate. Overall infection now ~${Math.round( avg )}%.` ); } renderUI(); } function attachMapClickHandlers() { for (let i = 0; i < COLLEGE_NAMES.length; i++) { const el = document.getElementById(`college-${i}`); if (!el) continue; el.onclick = () => { const c = gameState.colleges[i]; addLog( `${c.name} currently at ~${Math.round( c.infection )}% infection (resistance ${c.moderation.toFixed(2)}).` ); }; } } // --- student dots animation --- function initStudents() { const canvas = document.getElementById("studentsCanvas"); const svg = document.getElementById("mapSvg"); if (!canvas || !svg) return; resizeCanvas(); window.addEventListener("resize", resizeCanvas); studentsState.dots = []; studentsState.lastSpawn = performance.now(); requestAnimationFrame(stepStudents); } function resizeCanvas() { const canvas = document.getElementById("studentsCanvas"); if (!canvas) return; const rect = canvas.getBoundingClientRect(); canvas.width = rect.width; canvas.height = rect.height; } function getCollegeCenters() { const svg = document.getElementById("mapSvg"); const canvas = document.getElementById("studentsCanvas"); if (!svg || !canvas) return []; const svgRect = svg.getBoundingClientRect(); const canvasRect = canvas.getBoundingClientRect(); const sx = canvasRect.width / svg.viewBox.baseVal.width; const sy = canvasRect.height / svg.viewBox.baseVal.height; const centers = []; for (let i = 0; i < COLLEGE_NAMES.length; i++) { const el = document.getElementById(`college-${i}`); if (!el) { centers.push({ x: 0, y: 0 }); continue; } const x = parseFloat(el.getAttribute("x")); const y = parseFloat(el.getAttribute("y")); const w = parseFloat(el.getAttribute("width")); const h = parseFloat(el.getAttribute("height")); centers.push({ x: (x + w / 2) * sx, y: (y + h / 2) * sy, }); } return centers; } function spawnStudents(now) { const centers = getCollegeCenters(); if (!centers.length) return; const canvas = document.getElementById("studentsCanvas"); if (!canvas) return; const isDay = gameState.hour >= 8 && gameState.hour <= 22; const baseRate = isDay ? 0.0025 : 0.0007; // per ms const elapsed = now - studentsState.lastSpawn; const expected = baseRate * elapsed * COLLEGE_NAMES.length; const numNew = Math.floor(expected); if (numNew <= 0) return; for (let n = 0; n < numNew; n++) { const from = Math.floor(Math.random() * centers.length); let to = Math.floor(Math.random() * centers.length); if (to === from) { to = (to + 1) % centers.length; } const start = centers[from]; const end = centers[to]; studentsState.dots.push({ x0: start.x, y0: start.y, x1: end.x, y1: end.y, t: 0, speed: 0.0005 + Math.random() * 0.0008, // per ms size: 2 + Math.random() * 1.5, }); } studentsState.lastSpawn = now; } function stepStudents(now) { const canvas = document.getElementById("studentsCanvas"); if (!canvas) return; const ctx = canvas.getContext("2d"); const dt = 16; // approximate frame step spawnStudents(now); const remaining = []; ctx.clearRect(0, 0, canvas.width, canvas.height); studentsState.dots.forEach((dot) => { dot.t += dot.speed * dt; if (dot.t >= 1) return; const x = dot.x0 + (dot.x1 - dot.x0) * dot.t; const y = dot.y0 + (dot.y1 - dot.y0) * dot.t; const alpha = 0.3 + 0.7 * (1 - Math.abs(dot.t - 0.5) * 2); ctx.beginPath(); ctx.arc(x, y, dot.size, 0, Math.PI * 2); ctx.fillStyle = `rgba(148, 236, 255, ${alpha})`; ctx.fill(); remaining.push(dot); }); studentsState.dots = remaining; requestAnimationFrame(stepStudents); } function resetGame() { initGame(); } initGame(); </script> </body> </html> ```
